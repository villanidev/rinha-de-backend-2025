
 Network jjeanjacques10_backend  Creating
 Network jjeanjacques10_backend  Created
 Container redis-rinha  Creating
 Container redis-rinha  Created
 Container api1  Creating
 Container api2  Creating
 Container api2  Created
 Container api1  Created
 Container jjeanjacques10-nginx-1  Creating
 Container jjeanjacques10-nginx-1  Created
Attaching to api1, api2, nginx-1, redis-rinha
redis-rinha  | 1:C 18 Aug 2025 21:34:19.208 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
redis-rinha  | 1:C 18 Aug 2025 21:34:19.208 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis-rinha  | 1:C 18 Aug 2025 21:34:19.208 * Redis version=7.2.10, bits=64, commit=00000000, modified=0, pid=1, just started
redis-rinha  | 1:C 18 Aug 2025 21:34:19.208 * Configuration loaded
redis-rinha  | 1:M 18 Aug 2025 21:34:19.273 * monotonic clock: POSIX clock_gettime
redis-rinha  | 1:M 18 Aug 2025 21:34:19.274 * Running mode=standalone, port=6379.
redis-rinha  | 1:M 18 Aug 2025 21:34:19.275 * Server initialized
redis-rinha  | 1:M 18 Aug 2025 21:34:19.275 * Ready to accept connections tcp
nginx-1      | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
nginx-1      | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
nginx-1      | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
nginx-1      | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
nginx-1      | 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
nginx-1      | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
nginx-1      | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
nginx-1      | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
nginx-1      | /docker-entrypoint.sh: Configuration complete; ready for start up
api1         | 2025-08-18T21:35:59.017Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] .a.o.r.PaymentProcessorService$Companion : [19180d6f-9e0c-452a-84f1-c63ecd0156b9] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-18T21:35:59.019Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] c.j.r.d.s.PaymentService$Companion       : [19180d6f-9e0c-452a-84f1-c63ecd0156b9] Payment processor is unavailable
api1         | 2025-08-18T21:35:59.017Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] .a.o.r.PaymentProcessorService$Companion : [adc8cc6d-f192-41eb-9582-62c86c0391ff] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-18T21:35:59.019Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] c.j.r.d.s.PaymentService$Companion       : [adc8cc6d-f192-41eb-9582-62c86c0391ff] Payment processor is unavailable
api2         | 2025-08-18T21:35:59.017Z ERROR 1 --- [rinhabackend-2] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : [adbc60bd-7374-4096-a155-5aae7cd90cc9] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-18T21:35:59.019Z ERROR 1 --- [rinhabackend-2] [atcher-worker-3] c.j.r.d.s.PaymentService$Companion       : [adbc60bd-7374-4096-a155-5aae7cd90cc9] Payment processor is unavailable
api2         | 2025-08-18T21:35:59.017Z ERROR 1 --- [rinhabackend-2] [atcher-worker-8] .a.o.r.PaymentProcessorService$Companion : [99c3a0d9-26a2-4947-b3a7-a2f59bfbb18e] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-18T21:35:59.019Z ERROR 1 --- [rinhabackend-2] [atcher-worker-8] c.j.r.d.s.PaymentService$Companion       : [99c3a0d9-26a2-4947-b3a7-a2f59bfbb18e] Payment processor is unavailable
api2         | 2025-08-18T21:35:59.017Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] .a.o.r.PaymentProcessorService$Companion : [6cad306d-ddfb-401b-aa03-128a3ffb6186] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-18T21:35:59.019Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] c.j.r.d.s.PaymentService$Companion       : [6cad306d-ddfb-401b-aa03-128a3ffb6186] Payment processor is unavailable
api2         | 2025-08-18T21:35:59.031Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] .a.o.r.PaymentProcessorService$Companion : [6ec3a121-71c6-47e2-a3e0-72452def758b] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-18T21:35:59.031Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] c.j.r.d.s.PaymentService$Companion       : [6ec3a121-71c6-47e2-a3e0-72452def758b] Payment processor is unavailable
api1         | 2025-08-18T21:35:59.030Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] .a.o.r.PaymentProcessorService$Companion : [86f10cd0-de13-4a7f-b296-8d11d0948807] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-18T21:35:59.030Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] .a.o.r.PaymentProcessorService$Companion : [9efd298f-c728-4fa1-8714-2adc34156159] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-18T21:35:59.033Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] c.j.r.d.s.PaymentService$Companion       : [86f10cd0-de13-4a7f-b296-8d11d0948807] Payment processor is unavailable
api1         | 2025-08-18T21:35:59.033Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] c.j.r.d.s.PaymentService$Companion       : [9efd298f-c728-4fa1-8714-2adc34156159] Payment processor is unavailable
api2         | 2025-08-18T21:35:59.033Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] .a.o.r.PaymentProcessorService$Companion : [1da85123-16c8-4194-9db0-2f63d298f7c5] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-18T21:35:59.033Z ERROR 1 --- [rinhabackend-2] [atcher-worker-5] c.j.r.d.s.PaymentService$Companion       : [1da85123-16c8-4194-9db0-2f63d298f7c5] Payment processor is unavailable
api1         | 2025-08-18T21:35:59.038Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : [370e00a9-ebb2-462f-8bc2-67bc1f69c28d] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-18T21:35:59.038Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] c.j.r.d.s.PaymentService$Companion       : [370e00a9-ebb2-462f-8bc2-67bc1f69c28d] Payment processor is unavailable
api2         | 2025-08-18T21:35:59.051Z ERROR 1 --- [rinhabackend-2] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : [d9f950b9-4454-4da0-acf1-728b5a5bf2d9] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-18T21:35:59.052Z ERROR 1 --- [rinhabackend-2] [atcher-worker-3] c.j.r.d.s.PaymentService$Companion       : [d9f950b9-4454-4da0-acf1-728b5a5bf2d9] Payment processor is unavailable
api2         | 2025-08-18T21:35:59.066Z ERROR 1 --- [rinhabackend-2] [atcher-worker-8] .a.o.r.PaymentProcessorService$Companion : [f7294e9b-4145-4e61-a9bd-7618ce377d3f] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-18T21:35:59.066Z ERROR 1 --- [rinhabackend-2] [atcher-worker-8] c.j.r.d.s.PaymentService$Companion       : [f7294e9b-4145-4e61-a9bd-7618ce377d3f] Payment processor is unavailable
api1         | 2025-08-18T21:35:59.066Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] .a.o.r.PaymentProcessorService$Companion : [4d011c61-0159-46a2-96f1-e43aae1ab1e8] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-18T21:35:59.066Z ERROR 1 --- [rinhabackend-1] [atcher-worker-4] c.j.r.d.s.PaymentService$Companion       : [4d011c61-0159-46a2-96f1-e43aae1ab1e8] Payment processor is unavailable
api1         | 2025-08-18T21:35:59.066Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] .a.o.r.PaymentProcessorService$Companion : [4fbf0bb0-412b-47a2-8487-10c0bda81db2] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-18T21:35:59.066Z ERROR 1 --- [rinhabackend-1] [atcher-worker-3] c.j.r.d.s.PaymentService$Companion       : [4fbf0bb0-412b-47a2-8487-10c0bda81db2] Payment processor is unavailable
api2         | 2025-08-18T21:35:59.088Z ERROR 1 --- [rinhabackend-2] [atcher-worker-1] .a.o.r.PaymentProcessorService$Companion : [3149a15f-769c-4d04-82e2-1f93d09ad4cb] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-18T21:35:59.088Z ERROR 1 --- [rinhabackend-2] [atcher-worker-1] c.j.r.d.s.PaymentService$Companion       : [3149a15f-769c-4d04-82e2-1f93d09ad4cb] Payment processor is unavailable
api1         | 2025-08-18T21:35:59.088Z ERROR 1 --- [rinhabackend-1] [atcher-worker-6] .a.o.r.PaymentProcessorService$Companion : [fbec8e01-e6d5-4f35-8a61-e4e791dd5e52] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
api1         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api1         | Error has been observed at the following site(s):
api1         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api1         | Original Stack Trace:
api1         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api1         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api1         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api1         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api1         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api1         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api1         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api1         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api1         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api1         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api1         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api1         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api1         | 
api1         | 2025-08-18T21:35:59.088Z ERROR 1 --- [rinhabackend-1] [atcher-worker-6] c.j.r.d.s.PaymentService$Companion       : [fbec8e01-e6d5-4f35-8a61-e4e791dd5e52] Payment processor is unavailable
api2         | 2025-08-18T21:35:59.089Z ERROR 1 --- [rinhabackend-2] [atcher-worker-1] .a.o.r.PaymentProcessorService$Companion : [c46f7955-6a9a-4785-b8de-dca683d2238b] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 
api2         | org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api2         | 	at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 	Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
api2         | Error has been observed at the following site(s):
api2         | 	*__checkpoint ⇢ 500 INTERNAL_SERVER_ERROR from POST http://payment-processor-default:8080/payments [DefaultWebClient]
api2         | Original Stack Trace:
api2         | 		at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:214) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[na:na]
api2         | 		at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2096) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:134) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152) ~[na:na]
api2         | 		at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onComplete(FluxContextWrite.java:126) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:350) ~[na:na]
api2         | 		at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:391) ~[na:na]
api2         | 		at reactor.core.publisher.Operators$BaseFluxToMonoOperator.completePossiblyEmpty(Operators.java:2097) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:3.7.7]
api2         | 		at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:145) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[na:na]
api2         | 		at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[na:na]
api2         | 		at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:413) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:455) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:509) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:821) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:115) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:1.2.7]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:799) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:4.1.122.Final]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:501) ~[na:na]
api2         | 		at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:399) ~[na:na]
api2         | 		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998) ~[na:na]
api2         | 		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[na:na]
api2         | 		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[na:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.runWith(Thread.java:1596) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at java.base@21.0.8/java.lang.Thread.run(Thread.java:1583) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:902) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 		at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:878) ~[com.jjeanjacques.rinhabackend.RinhabackendApplicationKt:na]
api2         | 
api2         | 2025-08-18T21:35:59.089Z ERROR 1 --- [rinhabackend-2] [atcher-worker-1] c.j.r.d.s.PaymentService$Companion       : [c46f7955-6a9a-4785-b8de-dca683d2238b] Payment processor is unavailable
api1         | 2025-08-18T21:35:59.105Z ERROR 1 --- [rinhabackend-1] [atcher-worker-9] .a.o.r.PaymentProcessorService$Companion : [395c08ae-9fd5-4f0a-914d-bd9c57322f5a] WebClientResponseException calling payment processor: 500 Internal Server Error from POST http://payment-processor-default:8080/payments
api1         | 
log truncated at line 1000
